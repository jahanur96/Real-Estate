<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dashboard</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css" />
    <!-- AdminLTE -->
    <link rel="stylesheet" href="dist/css/adminlte.min.css" />

    <style>
      :root {
        --main-color: #00b98e;
        --text-color: #003366;
      }
      body {
        font-family: "Source Sans Pro", sans-serif;
        background-color: #00b98e;
      }

      /* Navbar */
      .main-header.navbar {
        background-color: #ffffff;
        border-bottom: 2px solid var(--main-color);
      }
      .navbar-light .navbar-nav .nav-link {
        color: var(--text-color);
        font-weight: 600;
      }
      .navbar-light .navbar-nav .nav-link:hover {
        color: var(--main-color);
      }

      /* Sidebar */
      .main-sidebar {
        background-color: var(--main-color) !important;
      }
      .brand-link {
        background-color: #ffffff !important;
        color: var(--main-color) !important;
        font-weight: bold;
      }
      .brand-link .brand-text {
        color: var(--main-color) !important;
      }
      .nav-sidebar .nav-link {
        color: #eafaf6 !important;
        font-weight: 500;
      }
      .nav-sidebar .nav-link.active,
      .nav-sidebar .nav-link:hover {
        background-color: #ffffff !important;
        color: var(--main-color) !important;
        font-weight: 600;
      }
      .nav-icon {
        color: #ffffff !important;
      }

      /* Content */
      .content-wrapper {
        background-color: #ffffff;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }
      h3 {
        color: var(--text-color);
        font-weight: 700;
      }
      p {
        color: #555;
      }

      /* Footer */
      .main-footer {
        background-color: #ffffff;
        border-top: 2px solid var(--main-color);
        color: var(--text-color);
        font-weight: 500;
      }
      .main-footer a {
        color: var(--main-color);
        text-decoration: none;
      }
      .main-footer a:hover {
        text-decoration: underline;
      }
    </style>
  </head>

  <body class="hold-transition sidebar-mini layout-fixed">
    <div class="wrapper">
      <!-- Navbar -->
      <nav class="main-header navbar navbar-expand navbar-white navbar-light">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#" role="button">
              <i class="fas fa-bars"></i>
            </a>
          </li>
          <li class="nav-item d-none d-sm-inline-block">
            <a href="#" class="nav-link" id="homeLink">Home</a>
          </li>
        </ul>
      </nav>

      <!-- Sidebar -->
      <aside class="main-sidebar sidebar-dark-primary elevation-4">
        <a href="index.html" class="brand-link">
          <img
            src="dist/img/AdminLTELogo.png"
            alt="AdminLTE Logo"
            class="brand-image img-circle elevation-3"
            style="opacity: 0.8"
          />
          <span class="brand-text font-weight-light">Real Estate</span>
        </a>

        <div class="sidebar">
          <div class="user-panel mt-3 pb-3 mb-3 d-flex">
            <div class="image">
              <img
                src="dist/img/user2-160x160.jpg"
                class="img-circle elevation-2"
                alt="User Image"
              />
            </div>
            <div class="info">
              <a href="#" class="d-block">Admin User</a>
            </div>
          </div>

          <nav class="mt-2">
            <ul
              class="nav nav-pills nav-sidebar flex-column"
              data-widget="treeview"
              role="menu"
              data-accordion="false"
            >
              <li class="nav-item">
                <a href="#" class="nav-link sidebar-link" data-page="home">
                  <i class="nav-icon fas fa-home"></i>
                  <p>Home</p>
                </a>
              </li>
              <li class="nav-item">
                <a
                  href="#"
                  class="nav-link sidebar-link"
                  data-page="category.html"
                >
                  <i class="nav-icon far fa-image"></i>
                  <p>Category</p>
                </a>
              </li>
              <li class="nav-item">
                <a
                  href="#"
                  class="nav-link sidebar-link"
                  data-page="featurecategory.html"
                >
                  <i class="nav-icon far fa-image"></i>
                  <p>Feature Category</p>
                </a>
              </li>
              <li class="nav-item">
                <a
                  href="#"
                  class="nav-link sidebar-link"
                  data-page="sliders.html"
                >
                  <i class="nav-icon far fa-image"></i>
                  <p>Sliders</p>
                </a>
              </li>
              <li class="nav-item">
                <a
                  href="#"
                  class="nav-link sidebar-link"
                  data-page="properties.html"
                >
                  <i class="nav-icon far fa-image"></i>
                  <p>Properties</p>
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </aside>

      <!-- Content Wrapper -->
      <div class="content-wrapper p-4" id="mainContent">
        <h3>Welcome to Real Estate Admin Dashboard</h3>
        <p>Select an option from the sidebar to manage data.</p>
      </div>

      <!-- Footer -->
      <footer class="main-footer">
        <strong>Copyright &copy; 2025 <a href="#">Development Team</a>.</strong>
        All rights reserved.
      </footer>
    </div>

    <!-- Scripts -->
    <script src="plugins/jquery/jquery.min.js"></script>
    <script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="dist/js/adminlte.js"></script>

    <script>
      $(document).ready(function () {
        function loadPage(page, addToHistory = true) {
          if (page === "home") {
            $("#mainContent").html(
              "<h3>Welcome to Real Estate Admin Dashboard</h3><p>Select an option from the sidebar to manage data.</p>"
            );
            $(".sidebar-link").removeClass("active");
            $(".sidebar-link[data-page='home']").addClass("active");
            if (addToHistory)
              history.pushState({ page: "home" }, null, "/admin/");
            return;
          }

          // Load content dynamically
          $("#mainContent").load(page, function (response, status, xhr) {
            if (status === "error") {
              $("#mainContent").html(
                `<p style="color:red;">Failed to load page: ${xhr.status} ${xhr.statusText}</p>`
              );
            }
          });

          $(".sidebar-link").removeClass("active");
          $(`.sidebar-link[data-page='${page}']`).addClass("active");

          if (addToHistory) {
            const url = page.replace(".html", "");
            history.pushState({ page }, null, "/admin/" + url);
          }
        }

        // Sidebar link click
        $(".sidebar-link").on("click", function (e) {
          e.preventDefault();
          const page = $(this).data("page");
          loadPage(page);
        });

        // Home link click
        $("#homeLink").on("click", function (e) {
          e.preventDefault();
          loadPage("home");
        });

        // Handle back/forward browser buttons
        window.onpopstate = function (event) {
          const page = event.state?.page || "home";
          loadPage(page, false);
        };

        // On initial load, check URL path
        const path = window.location.pathname;
        if (path.includes("/admin/category")) {
          loadPage("category.html", false);
        } else {
          loadPage("home", false);
        }

        if (path.includes("/admin/feature-category")) {
          loadPage("featurecategory.html", false);
        } else {
          loadPage("home", false);
        }
        if (path.includes("/admin/sliders")) {
          loadPage("Sliders.html", false);
        } else {
          loadPage("home", false);
        }
        if (path.includes("/admin/properties")) {
          loadPage("properties.html", false);
        } else {
          loadPage("home", false);
        }
      });
    </script>
  </body>
</html>
